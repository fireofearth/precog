#
# This is the main YAML file use to configure loading of the original dataset.
# - Colin
dataset:
  class: precog.dataset.serialized_dataset.SerializedDataset
  params:
    # root_path: /home/fireofearth/code/data/precog_carla_dataset/town01
    root_path: /media/external/data/precog_generate/datasets/20210112/town03
    _max_A: 5
    B: 10
    T: 20
    T_past: 10
    load_bev: True
    sdt_bev: False
    feature_pixels_per_meter: 2.
    W: 100
    fmt: "json"
    train_suffix: '/train/'
    val_suffix: '/val/'
    test_suffix: '/test/'

    # smaller datasets
    # train_suffix: '/train_small/'
    # val_suffix: '/val_small/'
    # test_suffix: '/test_small/'
    # train_suffix: '/train_generate850/'

    # experiment test suite to figure out whether ESP is using the inputs correctly
    # test_suffix: '/test_experiment_0/'

    # test ESP using training data
    # test_suffix: '/test_trained/'
    
    # match_prefix: "feed_*"
    # match_prefix: "ma_*"
    match_prefix: "ep*"
    # keyremap:
    #   player_future: 'S_future_world_frame'
    #   player_past: 'S_past_world_frame'
    #   player_yaw: 'yaws'
    # extra_params:
    #   allow_horizon_mismatch: False
    #   get_sdt_params:
    #     stamp: True
    #     sdt_clip_thresh: 0.5
    #     # -> 10 pixels each side -> 5 meters each side
    #     # -> 5 pixels each side -> 2.5 meters each side
    #     sdt_zero_w: 8
    #     sdt_zero_h: 3
    #     sdt_params_name: "_clip0.5_stamp_neg3"
    #     sdt_params:
    #       clip_top: 1
    #       clip_bottom: -3
    #       normalize: true
    _name: main
    
